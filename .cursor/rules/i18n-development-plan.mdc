
# Web Roulette Appå¤šè¨€èªå¯¾å¿œé–‹ç™ºè¨ˆç”»

## 1. ç›®çš„

GitHub Issue #1 ã‚’è§£æ¶ˆã—ã€Web Roulette Appã‚’è‹±èªã€éŸ“å›½èªã€ãƒãƒ«ãƒˆã‚¬ãƒ«èªã«å¯¾å¿œã•ã›ã‚‹ã€‚ã¾ãŸã€i18nã‚’ç”¨ã„ã¦ãƒ–ãƒ©ã‚¦ã‚¶ã®è¨­å®šè¨€èªã«åˆã‚ã›ã¦UIã®è¨€èªãŒè‡ªå‹•çš„ã«åˆ‡ã‚Šæ›¿ã‚ã‚‹ã‚ˆã†ã«ã™ã‚‹ã€‚

## 2. é–‹ç™ºè¦ä»¶

### å¯¾å¿œè¨€èª
- **æ—¥æœ¬èª (ja)**: ç¾åœ¨ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆè¨€èª
- **è‹±èª (en)**: å›½éš›çš„ãªåˆ©ç”¨è€…å‘ã‘
- **éŸ“å›½èª (ko)**: éŸ“å›½å¸‚å ´å‘ã‘
- **ãƒãƒ«ãƒˆã‚¬ãƒ«èª (pt)**: ãƒ–ãƒ©ã‚¸ãƒ«ãƒ»ãƒãƒ«ãƒˆã‚¬ãƒ«å¸‚å ´å‘ã‘

### æŠ€è¡“è¦ä»¶
- **ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯**: Next.js 15 + React 19 + TypeScript
- **i18nãƒ©ã‚¤ãƒ–ãƒ©ãƒª**: `next-intl` (Next.js App Routerå¯¾å¿œ)
- **è¨€èªåˆ‡ã‚Šæ›¿ãˆ**: ãƒ–ãƒ©ã‚¦ã‚¶ã®è¨€èªè¨­å®šã‚’è‡ªå‹•æ¤œçŸ¥
- **ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯**: å¯¾å¿œè¨€èªãŒãªã„å ´åˆã¯è‹±èªã«ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯
- **æ—¢å­˜æ©Ÿèƒ½**: ãƒ«ãƒ¼ãƒ¬ãƒƒãƒˆæ©Ÿèƒ½ã€é‡ã¿ä»˜ã‘ã€é™¤å¤–æ©Ÿèƒ½ã€ä¸€æ‹¬å…¥åŠ›æ©Ÿèƒ½ã‚’ç¶­æŒ

## 3. ç¾åœ¨ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåˆ†æ

### æ—¢å­˜ã®æ—¥æœ¬èªãƒ†ã‚­ã‚¹ãƒˆï¼ˆç¿»è¨³å¯¾è±¡ï¼‰
- **ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿**: ã‚¿ã‚¤ãƒˆãƒ«ã€èª¬æ˜æ–‡ã€Open Graphè¨­å®š
- **UIè¦ç´ **: ãƒœã‚¿ãƒ³ã€ãƒ©ãƒ™ãƒ«ã€ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
- **ãƒ«ãƒ¼ãƒ¬ãƒƒãƒˆé–¢é€£**: æŠ½é¸ä¸­ã€çµæœè¡¨ç¤ºã€é™¤å¤–æ©Ÿèƒ½
- **ãƒ•ã‚©ãƒ¼ãƒ **: å…¥åŠ›ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã€ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³
- **ãƒ•ãƒƒã‚¿ãƒ¼**: ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼æƒ…å ±ã€ãƒªãƒ³ã‚¯

### ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ 
```
app/
â”œâ”€â”€ layout.tsx          # ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿è¨­å®š
â”œâ”€â”€ page.tsx           # ãƒ¡ã‚¤ãƒ³ãƒšãƒ¼ã‚¸
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ OptionsEditor.tsx  # ãƒ¡ã‚¤ãƒ³UIï¼ˆå¤šæ•°ã®æ—¥æœ¬èªãƒ†ã‚­ã‚¹ãƒˆï¼‰
â”‚   â”œâ”€â”€ Roulette.tsx       # ãƒ«ãƒ¼ãƒ¬ãƒƒãƒˆè¡¨ç¤º
â”‚   â””â”€â”€ Confetti.tsx       # ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³
â”œâ”€â”€ hooks/
â”œâ”€â”€ lib/
â””â”€â”€ types/
```

## 4. é–‹ç™ºè¨ˆç”»

### Phase 1: åŸºç›¤æ§‹ç¯‰
1. **next-intlãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®å°å…¥**
   ```bash
   npm install next-intl
   ```

2. **ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ ã®å¤‰æ›´**
   ```
   app/
   â”œâ”€â”€ [locale]/
   â”‚   â”œâ”€â”€ layout.tsx      # è¨€èªåˆ¥ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ
   â”‚   â”œâ”€â”€ page.tsx        # è¨€èªåˆ¥ãƒšãƒ¼ã‚¸
   â”‚   â””â”€â”€ globals.css
   â”œâ”€â”€ i18n.ts             # i18nè¨­å®š
   â””â”€â”€ middleware.ts       # è¨€èªæ¤œå‡ºãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢
   messages/
   â”œâ”€â”€ en.json
   â”œâ”€â”€ ja.json
   â”œâ”€â”€ ko.json
   â””â”€â”€ pt.json
   ```

3. **è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã®ä½œæˆ**
   - `i18n.ts`: next-intlè¨­å®š
   - `middleware.ts`: è¨€èªæ¤œå‡ºã¨ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆ
   - `next.config.ts`: å›½éš›åŒ–è¨­å®š

### Phase 2: ç¿»è¨³ãƒªã‚½ãƒ¼ã‚¹ä½œæˆ
1. **ç¿»è¨³ãƒ•ã‚¡ã‚¤ãƒ«æ§‹é€ **
   ```json
   {
     "metadata": {
       "title": "Web Roulette | Web Roulette EX",
       "description": "Free roulette app with weight adjustment!",
       "siteName": "Web Roulette | Web Roulette EX"
     },
     "ui": {
       "title": "Roulette App",
       "instructions": {
         "addOptions": "ğŸ“‹ Add options to the list",
         "adjustProbability": "ğŸ“Š Adjust with probability slider",
         "spin": "ğŸ¯ Press the center button to spin!"
       },
       "buttons": {
         "addOption": "Add Option",
         "shuffle": "Shuffle",
         "equalize": "Equalize",
         "batchInput": "Batch Input",
         "cancel": "Cancel",
         "apply": "Apply",
         "revive": "Revive",
         "reviveAll": "Revive All"
       },
       "roulette": {
         "spinning": "Drawing...",
         "ready": "Press the center button to start drawing",
         "noOptions": "Please enter options",
         "result": "ã€Œ{option}ã€was selected!",
         "exclude": "Exclude this option"
       },
       "batchInput": {
         "title": "Batch Input",
         "close": "Close Batch Input",
         "textLabel": "Text (supports line breaks/Markdown lists)",
         "methodLabel": "Apply Method",
         "append": "Append",
         "appendDesc": "Add to existing options",
         "replace": "Replace",
         "replaceDesc": "Replace existing options",
         "placeholder": "- Apple\n- Banana\n- Orange",
         "error": "No valid lines found"
       },
       "options": {
         "placeholder": "Option {number}",
         "percentage": "{value}%",
         "excluded": "Excluded"
       },
       "footer": {
         "privacy": "Privacy Protection",
         "privacyDesc": "All processing is completed in the browser, and data is never sent externally.",
         "github": "View on GitHub",
         "twitter": "keitao7gawa"
       }
     }
   }
   ```

2. **ç¿»è¨³å¯¾è±¡ãƒ†ã‚­ã‚¹ãƒˆã®ç‰¹å®š**
   - OptionsEditor.tsx: ç´„50ç®‡æ‰€ã®æ—¥æœ¬èªãƒ†ã‚­ã‚¹ãƒˆ
   - Roulette.tsx: ç´„10ç®‡æ‰€ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
   - layout.tsx: ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿é–¢é€£
   - ãã®ä»–ã®UIè¦ç´ 

### Phase 3: UIå›½éš›åŒ–å¯¾å¿œ
1. **ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®æ›´æ–°**
   ```tsx
   // Before
   <h1>ãƒ«ãƒ¼ãƒ¬ãƒƒãƒˆã‚¢ãƒ—ãƒª</h1>
   
   // After
   import { useTranslations } from 'next-intl';
   const t = useTranslations('ui');
   <h1>{t('title')}</h1>
   ```

2. **å‹•çš„ãƒ†ã‚­ã‚¹ãƒˆã®å¯¾å¿œ**
   ```tsx
   // Before
   <span>ã€Œ{validOptions[selectedIndex]}ã€ãŒé¸ã°ã‚Œã¾ã—ãŸï¼</span>
   
   // After
   <span>{t('roulette.result', { option: validOptions[selectedIndex] })}</span>
   ```

3. **ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã®å›½éš›åŒ–**
   ```tsx
   import { getTranslations } from 'next-intl/server';
   
   export async function generateMetadata({ params: { locale } }) {
     const t = await getTranslations({ locale, namespace: 'metadata' });
     
     return {
       title: t('title'),
       description: t('description'),
       openGraph: {
         title: t('title'),
         description: t('description'),
         siteName: t('siteName'),
       },
     };
   }
   ```

### Phase 4: è¨€èªåˆ‡ã‚Šæ›¿ãˆæ©Ÿèƒ½
1. **è‡ªå‹•è¨€èªæ¤œå‡º**
   ```typescript
   // middleware.ts
   import createMiddleware from 'next-intl/middleware';
   
   export default createMiddleware({
     locales: ['ja', 'en', 'ko', 'pt'],
     defaultLocale: 'ja',
     localeDetection: true
   });
   ```

2. **æ‰‹å‹•è¨€èªåˆ‡ã‚Šæ›¿ãˆUI**
   ```tsx
   // LanguageSelector.tsx
   import { useLocale, useTranslations } from 'next-intl';
   import { useRouter, usePathname } from 'next/navigation';
   
   export default function LanguageSelector() {
     const locale = useLocale();
     const router = useRouter();
     const pathname = usePathname();
     
     const languages = [
       { code: 'ja', name: 'æ—¥æœ¬èª', flag: 'ğŸ‡¯ğŸ‡µ' },
       { code: 'en', name: 'English', flag: 'ğŸ‡ºğŸ‡¸' },
       { code: 'ko', name: 'í•œêµ­ì–´', flag: 'ğŸ‡°ğŸ‡·' },
       { code: 'pt', name: 'PortuguÃªs', flag: 'ğŸ‡§ğŸ‡·' }
     ];
     
     const handleLanguageChange = (newLocale: string) => {
       const newPath = pathname.replace(`/${locale}`, `/${newLocale}`);
       router.push(newPath);
     };
     
     return (
       <select value={locale} onChange={(e) => handleLanguageChange(e.target.value)}>
         {languages.map((lang) => (
           <option key={lang.code} value={lang.code}>
             {lang.flag} {lang.name}
           </option>
         ))}
       </select>
     );
   }
   ```

### Phase 5: ãƒ†ã‚¹ãƒˆãƒ»æœ€é©åŒ–
1. **ãƒ†ã‚¹ãƒˆé …ç›®**
   - å„è¨€èªã§ã®è¡¨ç¤ºç¢ºèª
   - è¨€èªåˆ‡ã‚Šæ›¿ãˆã®å‹•ä½œç¢ºèª
   - ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ‡ã‚¶ã‚¤ãƒ³ã®ç¢ºèª
   - æ—¢å­˜æ©Ÿèƒ½ã®å‹•ä½œç¢ºèª

2. **æœ€é©åŒ–**
   - ç¿»è¨³ãƒ•ã‚¡ã‚¤ãƒ«ã®é…å»¶èª­ã¿è¾¼ã¿
   - ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–
   - SEOæœ€é©åŒ–ï¼ˆhreflangç­‰ï¼‰

## 5. å®Ÿè£…ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³

### ãƒ•ã‚¡ã‚¤ãƒ«å‘½åè¦å‰‡
- ç¿»è¨³ãƒ•ã‚¡ã‚¤ãƒ«: `{locale}.json`
- ãƒ«ãƒ¼ãƒˆ: `/[locale]/...`
- ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢: `middleware.ts`

### ã‚­ãƒ¼å‘½åè¦å‰‡
```json
{
  "metadata": { /* ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿é–¢é€£ */ },
  "ui": {
    "title": "ã‚¢ãƒ—ãƒªã‚¿ã‚¤ãƒˆãƒ«",
    "buttons": { /* ãƒœã‚¿ãƒ³é–¢é€£ */ },
    "roulette": { /* ãƒ«ãƒ¼ãƒ¬ãƒƒãƒˆé–¢é€£ */ },
    "batchInput": { /* ä¸€æ‹¬å…¥åŠ›é–¢é€£ */ },
    "options": { /* é¸æŠè‚¢é–¢é€£ */ },
    "footer": { /* ãƒ•ãƒƒã‚¿ãƒ¼é–¢é€£ */ }
  }
}
```

### ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§ã®ä½¿ç”¨ä¾‹
```tsx
import { useTranslations } from 'next-intl';

export default function Component() {
  const t = useTranslations('ui.buttons');
  
  return (
    <button>{t('addOption')}</button>
  );
}
```

### å‹•çš„ãƒ†ã‚­ã‚¹ãƒˆã®ä½¿ç”¨ä¾‹
```tsx
// ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ä»˜ãç¿»è¨³
<span>{t('roulette.result', { option: selectedOption })}</span>

// è¤‡æ•°å½¢å¯¾å¿œ
<span>{t('options.count', { count: options.length })}</span>
```

## 6. å“è³ªä¿è¨¼

### ç¿»è¨³å“è³ª
- ãƒã‚¤ãƒ†ã‚£ãƒ–ã‚¹ãƒ”ãƒ¼ã‚«ãƒ¼ã«ã‚ˆã‚‹ç¿»è¨³ãƒ¬ãƒ“ãƒ¥ãƒ¼
- æ–‡åŒ–çš„ãªé©åˆ‡æ€§ã®ç¢ºèª
- å°‚é–€ç”¨èªã®çµ±ä¸€

### æŠ€è¡“å“è³ª
- TypeScriptå‹å®‰å…¨æ€§ã®ç¢ºä¿
- ç¿»è¨³ã‚­ãƒ¼ã®å­˜åœ¨ç¢ºèª
- ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ†ã‚¹ãƒˆ

## 7. ä»Šå¾Œã®æ‹¡å¼µæ€§

### è¿½åŠ è¨€èªå¯¾å¿œ
- ä¸­å›½èªï¼ˆç°¡ä½“å­—ãƒ»ç¹ä½“å­—ï¼‰
- ã‚¹ãƒšã‚¤ãƒ³èª
- ãƒ•ãƒ©ãƒ³ã‚¹èª
- ãƒ‰ã‚¤ãƒ„èª

### æ©Ÿèƒ½æ‹¡å¼µ
- RTLï¼ˆå³ã‹ã‚‰å·¦ï¼‰è¨€èªå¯¾å¿œ
- åœ°åŸŸåˆ¥ã®æ•°å€¤ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ
- å‹•çš„ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®å›½éš›åŒ–

## 8. æ³¨æ„äº‹é …

- ç”»åƒå†…ãƒ†ã‚­ã‚¹ãƒˆã®ç¿»è¨³æ–¹æ³•ã‚’æ¤œè¨
- ãƒ•ã‚©ãƒ³ãƒˆã®å¤šè¨€èªå¯¾å¿œç¢ºèª
- æ–‡å­—æ•°å¢—åŠ ã«ã‚ˆã‚‹ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆèª¿æ•´
- SEOå¯¾ç­–ï¼ˆhreflangã€sitemapç­‰ï¼‰
- æ—¢å­˜ã®æ©Ÿèƒ½ï¼ˆé‡ã¿ä»˜ã‘ã€é™¤å¤–ã€ä¸€æ‹¬å…¥åŠ›ï¼‰ã‚’å£Šã•ãªã„
- ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã¸ã®å½±éŸ¿ã‚’æœ€å°é™ã«æŠ‘ãˆã‚‹